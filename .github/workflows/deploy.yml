name: Розгортання на Netlify

on:
  push:
    branches:
      - main # Пайплайн запускається, коли код пушиться в гілку 'main'

jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4 # 1. Вивантажити код з репозиторію
   

      - name: Розгортання на Netlify
        uses: netlify/actions/cli@master # 2. Використання офіційної дії для Netlify
        env:
          NETLIFY_AUTH_TOKEN: ${{ secrets.NETLIFY_AUTH_TOKEN }}
          NETLIFY_SITE_ID: ${{ secrets.NETLIFY_SITE_ID }}
        with:
          publish-dir: './'
name: Deploy to Netlify

on:
  push:
    branches:
      - main # Запускається при пуші в основну гілку

jobs:
  build-and-deploy:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout repository
        uses: actions/checkout@v3 # 1. Завантажуємо код

      - name: Deploy to Netlify
        uses: nwtgck/actions-netlify@v2 # 2. Використовуємо дію для деплою
        with:
          publish-dir: ./ # Папка для розгортання (корінь проєкту)
          production-deploy: true # Розгортання як основний продакшн-сайт
        env:
          NETLIFY_AUTH_TOKEN: ${{ secrets.NETLIFY_AUTH_TOKEN }} # Використовуємо секрети
          NETLIFY_SITE_ID: ${{ secrets.NETFIFY_SITE_ID }}
